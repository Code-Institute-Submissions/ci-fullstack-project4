{% extends 'base.template.html' %}
{%load static %}

{%block title%}
Cloudberry Grocer Home Page
{%endblock%}

{%block content%}

<div class="jumbotron">
  <h1 class="display-4">Hello, world!</h1>
  <p class="lead">This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information.</p>
  <hr class="my-4">
  <p>It uses utility classes for typography and spacing to space content out within the larger container.</p>
  <a class="btn btn-primary btn-lg" href="#" role="button">Learn more</a>
</div>

{% if request.user.is_authenticated  %}
    <p>You are currently logged in as {{request.user}}</p>
{% else %}
    <p>Welcome to Cloudberry Grocer, guest</p>
{% endif %}

<div class="row row-cols-12">
{% for cat in categories %}
<div class="card col-6 col-md-2 mb-3 bg-transparent border-0">
<a href="/products/{{cat.slug}}">
  <img src="{% static '/image/cat' %}{{cat.cat_no}}.jpg" class="card-img" alt="..."/>
  <div class="card-img-overlay">
    <h5 class="card-title">{{cat.name}}</h5>
  </div>
</a>
</div>

{% endfor %}
</div>

{% if perms.products.can_add_product %}
    <a class="btn btn-secondary btn-lg floating-btn" href="{% url 'create_product_route' %}" role="button" data-toggle="tooltip" data-placement="bottom" title="Add products">+</a>
{% endif %}

    <div class="row mb-3 row-cols-12">
    <div class="card-deck">    <!--startdeck-->
{%for product in products %}
   {% if forloop.counter0|divisibleby:5 and forloop.counter0 != 0 %}
        </div> <!--end deck-->
        </div> <!--end row-->
        <div class="row mb3 row-cols-12">
         <div class="card-deck">    <!--startdeck-->
  {% endif %}
   



  <div class="card col-md-2">
    <img src="{{product.image}}" class="card-img-top rounded" alt="product-image">
    <div class="card-body">
      {{forloop.counter0}}
      <h5 class="card-title">${{product.root_price|floatformat:2}}</h5>
      <p class="card-text">{{product.name}}</p>
      <p class="card-text">{{product.weight_per_pack}}g</p>
      <p class="card-text"><small class="text-muted">Add to Cart</small></p>
    </div>
  </div>
  
   
{%endfor%}

    </div> <!--end deck last-->
        </div> <!--end row last-->

{%endblock%}

{%block js%}
{%endblock%}
